//
//  SampleDataService.swift
//  PersianPoetry
//
//  Created by Meghdad Abbaszadegan on 10/3/25.
//

import Foundation

class SampleDataService {
    static let shared = SampleDataService()
    private var currentID = 1000 // Start from a high number to avoid conflicts
    
    private init() {}
    
    func getSamplePoems() -> [Poem] {
        // Generate unique poems with different content each time
        let poets = [
            ("حافظ", "شاعر بزرگ ایرانی", 1325, 1390),
            ("سعدی", "شاعر و نویسنده بزرگ ایرانی", 1210, 1291),
            ("فردوسی", "شاعر حماسه‌سرای ایرانی", 940, 1020),
            ("مولوی", "شاعر و عارف بزرگ", 1207, 1273),
            ("عمر خیام", "شاعر و فیلسوف ایرانی", 1048, 1131),
            ("نظامی", "شاعر و داستان‌سرای بزرگ", 1141, 1209),
            ("خاقانی", "شاعر و قصیده‌سرای بزرگ", 1120, 1199),
            ("انوری", "شاعر و قصیده‌سرای بزرگ", 1126, 1189),
            ("ناصرخسرو", "شاعر و فیلسوف بزرگ", 1004, 1088),
            ("باباطاهر", "شاعر و عارف بزرگ", 1000, 1055),
            ("رودکی", "پدر شعر فارسی", 858, 941),
            ("فرخی", "شاعر و قصیده‌سرای بزرگ", 1000, 1037),
            ("منوچهری", "شاعر و قصیده‌سرای بزرگ", 1000, 1040),
            ("عسجدی", "شاعر و قصیده‌سرای بزرگ", 1000, 1040),
            ("کمال الدین", "شاعر و قصیده‌سرای بزرگ", 1000, 1040)
        ]
        
        let poemTemplates = [
            ("در دل من مها که جانی داری", "تو به هر حالی که باشی، آنی داری"),
            ("ای کاش که جای آشنایی بودی", "یا در ره منزل آشنایی بودی"),
            ("بشنو از نی چون حکایت می‌کند", "وز جدایی‌ها شکایت می‌کند"),
            ("اگر چه باده فرح بخش و باد", "ولیکن باده با ساقی خوش است"),
            ("این کوزه گر دیده‌ام بر خاک", "با خاکیان در خاک می‌ساخت"),
            ("بنی آدم اعضای یکدیگرند", "که در آفرینش ز یک گوهرند"),
            ("ای دل اگر عاشق شدی صبر کن", "صبر کن تا روزگار بگذرد"),
            ("هر که را جامه ز عار بدر آمد", "از عار خود به عار دیگر آمد"),
            ("دل من رفت و ندانم کجا رفت", "دل من رفت و ندانم کجا رفت"),
            ("ای کاش که جای آشنایی بودی", "یا در ره منزل آشنایی بودی"),
            ("بشنو از نی چون حکایت می‌کند", "وز جدایی‌ها شکایت می‌کند"),
            ("اگر چه باده فرح بخش و باد", "ولیکن باده با ساقی خوش است"),
            ("این کوزه گر دیده‌ام بر خاک", "با خاکیان در خاک می‌ساخت"),
            ("بنی آدم اعضای یکدیگرند", "که در آفرینش ز یک گوهرند"),
            ("چو در دل من مها که جانی داری", "تو به هر حالی که باشی، آنی داری"),
            ("ای کاش که جای آشنایی بودی", "یا در ره منزل آشنایی بودی"),
            ("بشنو از نی چون حکایت می‌کند", "وز جدایی‌ها شکایت می‌کند"),
            ("اگر چه باده فرح بخش و باد", "ولیکن باده با ساقی خوش است"),
            ("این کوزه گر دیده‌ام بر خاک", "با خاکیان در خاک می‌ساخت"),
            ("بنی آدم اعضای یکدیگرند", "که در آفرینش ز یک گوهرند"),
            ("ای دل اگر عاشق شدی صبر کن", "صبر کن تا روزگار بگذرد"),
            ("هر که را جامه ز عار بدر آمد", "از عار خود به عار دیگر آمد"),
            ("دل من رفت و ندانم کجا رفت", "دل من رفت و ندانم کجا رفت"),
            ("ای کاش که جای آشنایی بودی", "یا در ره منزل آشنایی بودی"),
            ("بشنو از نی چون حکایت می‌کند", "وز جدایی‌ها شکایت می‌کند"),
            ("اگر چه باده فرح بخش و باد", "ولیکن باده با ساقی خوش است"),
            ("این کوزه گر دیده‌ام بر خاک", "با خاکیان در خاک می‌ساخت"),
            ("بنی آدم اعضای یکدیگرند", "که در آفرینش ز یک گوهرند"),
            ("چو در دل من مها که جانی داری", "تو به هر حالی که باشی، آنی داری"),
            ("ای کاش که جای آشنایی بودی", "یا در ره منزل آشنایی بودی")
        ]
        
        var poems: [Poem] = []
        
        for i in 0..<20 {
            let poet = poets[i % poets.count]
            let template = poemTemplates[i % poemTemplates.count]
            
            let poem = Poem(
                id: currentID + i,
                title: template.0,
                urlSlug: "poem-\(currentID + i)",
                plainText: "\(template.0)\n\(template.1)\n",
                htmlText: "<p>\(template.0)<br>\(template.1)</p>",
                poet: Poet(
                    id: currentID + i + 1000,
                    name: poet.0,
                    description: poet.1,
                    birthYear: poet.2,
                    deathYear: poet.3
                ),
                category: Category(
                    id: (i % 3) + 1,
                    title: ["غزل", "رباعی", "مثنوی"][i % 3],
                    urlSlug: ["ghazal", "robai", "masnavi"][i % 3],
                    parentId: nil
                )
            )
            poems.append(poem)
        }
        
        // Update currentID for next batch
        currentID += 20
        
        // Return shuffled poems for variety
        return poems.shuffled()
    }
}
